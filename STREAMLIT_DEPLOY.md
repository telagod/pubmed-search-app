# ğŸš€ Streamlit Cloud éƒ¨ç½²æŒ‡å—

**é¡¹ç›®**: BMAL1 PubMed Search System v3.1 (æœ€ä½³å®è·µç‰ˆ)
**ä»“åº“**: https://github.com/telagod/bmal1-pubmed-search

## ğŸ†• v3.1 ç‰¹æ€§

- **ğŸ’¾ æ•°æ®æœ¬åœ°åŒ–**: ä¸Šä¼ /ä¸‹è½½æ•°æ®åº“,å®Œå…¨æ§åˆ¶è‡ªå·±çš„æ•°æ®
- **é›¶äº‘ç«¯å ç”¨**: ä¸ä¾èµ–Streamlit CloudæŒä¹…åŒ–å­˜å‚¨
- **ğŸŒ™ æ·±è‰²æ¨¡å¼**: é»˜è®¤æ·±è‰²ä¸»é¢˜,æ›´é€‚åˆé•¿æ—¶é—´ä½¿ç”¨
- **ğŸ“‹ ä¼˜åŒ–æµç¨‹**: æ•°æ®ç®¡ç†é¦–é¡µ,æ›´ç¬¦åˆä½¿ç”¨ä¹ æƒ¯

---

## ğŸ“‹ éƒ¨ç½²æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šè®¿é—®Streamlit Cloud

1. æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ï¼šhttps://share.streamlit.io/
2. ä½¿ç”¨GitHubè´¦å·ç™»å½•

### ç¬¬äºŒæ­¥ï¼šåˆ›å»ºæ–°åº”ç”¨

1. ç‚¹å‡»å³ä¸Šè§’çš„ **"New app"** æŒ‰é’®
2. åœ¨å¼¹å‡ºçš„å¯¹è¯æ¡†ä¸­å¡«å†™ï¼š
   - **Repository**: `telagod/bmal1-pubmed-search`
   - **Branch**: `main`
   - **Main file path**: `streamlit_app.py`
   - **App URL** (å¯é€‰): è‡ªå®šä¹‰åº”ç”¨URLï¼Œå¦‚ `bmal1-search`

### ç¬¬ä¸‰æ­¥ï¼šé…ç½®Secretsï¼ˆé‡è¦ï¼ï¼‰

1. ç‚¹å‡» **"Advanced settings"**
2. åœ¨ **"Secrets"** éƒ¨åˆ†ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```toml
pubmed_email = "your-email@example.com"
api_key = "your-ncbi-api-key"
```

**æ³¨æ„**ï¼š
- è¯·å°† `your-email@example.com` æ›¿æ¢ä¸ºæ‚¨çš„PubMedæ³¨å†Œé‚®ç®±
- è¯·å°† `your-ncbi-api-key` æ›¿æ¢ä¸ºæ‚¨çš„NCBI APIå¯†é’¥
- å¦‚æœæ²¡æœ‰APIå¯†é’¥ï¼Œè¯·è®¿é—®ï¼šhttps://www.ncbi.nlm.nih.gov/account/settings/

### ç¬¬å››æ­¥ï¼šéƒ¨ç½²

1. æ£€æŸ¥æ‰€æœ‰é…ç½®æ— è¯¯
2. ç‚¹å‡» **"Deploy!"** æŒ‰é’®
3. ç­‰å¾…å‡ åˆ†é’Ÿï¼ŒStreamlitä¼šè‡ªåŠ¨ï¼š
   - å…‹éš†ä»“åº“
   - å®‰è£…ä¾èµ–ï¼ˆä»requirements.txtï¼‰
   - å¯åŠ¨åº”ç”¨

### ç¬¬äº”æ­¥ï¼šè®¿é—®åº”ç”¨

éƒ¨ç½²æˆåŠŸåï¼Œæ‚¨ä¼šçœ‹åˆ°ï¼š
- âœ… éƒ¨ç½²æˆåŠŸçš„æç¤º
- ğŸ”— åº”ç”¨çš„å…¬å¼€è®¿é—®é“¾æ¥ï¼ˆå¦‚ https://bmal1-search.streamlit.appï¼‰
- ğŸ“„ ä½¿ç”¨å·¦ä¾§ Pages å¯¼èˆªåˆ‡æ¢é¡µé¢ï¼ˆæ•°æ®ç®¡ç† / Dashboard / é«˜çº§æœç´¢ / æ–‡çŒ®æµè§ˆ / æ•°æ®åˆ†æ / è®¾ç½® / å…³äºï¼‰

---

## ğŸ”§ é…ç½®è¯´æ˜

### Secretsæ ¼å¼

Streamlit Cloudä½¿ç”¨TOMLæ ¼å¼çš„Secretsï¼Œä¸.envæ–‡ä»¶æ ¼å¼ä¸åŒï¼š

**.envæ ¼å¼**ï¼ˆæœ¬åœ°ä½¿ç”¨ï¼‰ï¼š
```
pubmed_email:your-email@example.com
api_key:your-api-key
```

**Secretsæ ¼å¼**ï¼ˆStreamlit Cloudï¼‰ï¼š
```toml
pubmed_email = "your-email@example.com"
api_key = "your-api-key"
```

### ä»£ç ä¸­çš„Secretsè®¿é—®

`config_manager.py` å·²ç»é…ç½®ä¸ºè‡ªåŠ¨ä»Streamlit SecretsåŠ è½½é…ç½®ï¼š

```python
# è‡ªåŠ¨å°è¯•ä»Streamlit secretsåŠ è½½
if 'streamlit' in sys.modules:
    try:
        import streamlit as st
        if hasattr(st, 'secrets'):
            self.pubmed_config.email = st.secrets.get('pubmed_email', '')
            self.pubmed_config.api_key = st.secrets.get('api_key', '')
    except:
        pass
```

---

## ğŸ“ æ›´æ–°åº”ç”¨

### æ–¹æ³•1ï¼šæ¨é€ä»£ç æ›´æ–°

```bash
# ä¿®æ”¹ä»£ç å
git add .
git commit -m "Update: description of changes"
git push
```

Streamlit Cloudä¼šè‡ªåŠ¨æ£€æµ‹åˆ°æ›´æ–°å¹¶é‡æ–°éƒ¨ç½²ã€‚

### æ–¹æ³•2ï¼šæ‰‹åŠ¨é‡å¯

1. è®¿é—® https://share.streamlit.io/
2. æ‰¾åˆ°æ‚¨çš„åº”ç”¨
3. ç‚¹å‡»èœå• â†’ **"Reboot app"**

---

## ğŸ” ç›‘æ§å’Œè°ƒè¯•

### æŸ¥çœ‹æ—¥å¿—

1. åœ¨Streamlit Cloudåº”ç”¨é¡µé¢
2. ç‚¹å‡»å³ä¸‹è§’çš„ **"Manage app"**
3. æŸ¥çœ‹ **"Logs"** æ ‡ç­¾é¡µ

### å¸¸è§é—®é¢˜

#### 1. éƒ¨ç½²å¤±è´¥ï¼šModuleNotFoundError

**åŸå› **ï¼šrequirements.txtç¼ºå°‘ä¾èµ–

**è§£å†³**ï¼š
- æ£€æŸ¥requirements.txtæ˜¯å¦åŒ…å«æ‰€æœ‰å¿…éœ€çš„åŒ…
- ç¡®ä¿ç‰ˆæœ¬å·æ­£ç¡®

#### 2. åº”ç”¨å¯åŠ¨åæç¤º"é…ç½®éªŒè¯å¤±è´¥"

**åŸå› **ï¼šSecretsæœªæ­£ç¡®é…ç½®

**è§£å†³**ï¼š
- æ£€æŸ¥Secretsæ ¼å¼æ˜¯å¦æ­£ç¡®ï¼ˆTOMLæ ¼å¼ï¼‰
- ç¡®ä¿Emailå’ŒAPI Keyæœ‰æ•ˆ
- é‡å¯åº”ç”¨

#### 3. v3.1 æ•°æ®ç®¡ç†è¯´æ˜

**v3.1æ ¸å¿ƒç†å¿µ**: æ•°æ®å®Œå…¨æœ¬åœ°åŒ–,ä¸å ç”¨äº‘ç«¯èµ„æº

**ä½¿ç”¨æµç¨‹**:
- é¦–æ¬¡ä½¿ç”¨:
  1. é…ç½®API â†’ æœç´¢æ–‡çŒ®
  2. åœ¨"ğŸ’¾ æ•°æ®ç®¡ç†"é¡µé¢ä¸‹è½½æ•°æ®åº“
  3. ä¿å­˜åˆ°æœ¬åœ°(å»ºè®®ä½¿ç”¨äº‘ç›˜åŒæ­¥)

- ç»§ç»­ä½¿ç”¨:
  1. åœ¨"ğŸ’¾ æ•°æ®ç®¡ç†"ä¸Šä¼ ä¹‹å‰çš„æ•°æ®åº“
  2. ç«‹å³å¯æŸ¥çœ‹æ•°æ®å’Œåˆ†æ
  3. å¯ç»§ç»­æœç´¢æ·»åŠ æ–°æ•°æ®
  4. å†æ¬¡ä¸‹è½½æ›´æ–°çš„æ•°æ®åº“

**ä¼˜åŠ¿**:
- âœ… ç”¨æˆ·å®Œå…¨æ§åˆ¶æ•°æ®
- âœ… é›¶äº‘ç«¯å­˜å‚¨å ç”¨
- âœ… æ•°æ®å¯è¿ç§»ã€å¯å¤‡ä»½
- âœ… åº”ç”¨é‡å¯ä¸å½±å“æœ¬åœ°æ•°æ®

---

## ğŸ¯ v3.1 æœ€ä½³å®è·µ

### 1. æ•°æ®ç®¡ç†ç­–ç•¥

**ä¸ªäººç”¨æˆ·**:
- æ¯æ¬¡æœç´¢åç«‹å³ä¸‹è½½æ•°æ®åº“
- ä¿å­˜åˆ°äº‘ç›˜(OneDrive/Google Drive)è‡ªåŠ¨åŒæ­¥
- ä½¿ç”¨æœ‰æ„ä¹‰çš„æ–‡ä»¶å(å¦‚ `bmal1_alzheimer_2025.db`)
- ä¸ºä¸åŒç ”ç©¶ä¸»é¢˜åˆ›å»ºä¸åŒæ•°æ®åº“

**å›¢é˜Ÿåä½œ**:
- ä¸€äººæ£€ç´¢,å¯¼å‡ºæ•°æ®åº“åˆ†äº«ç»™å›¢é˜Ÿ
- æˆå‘˜ä¸Šä¼ åå¯æŸ¥çœ‹å’Œåˆ†æ
- å¯åˆå¹¶å¤šä¸ªæ•°æ®åº“(æœ¬åœ°SQLiteæ“ä½œ)

### 2. ä½¿ç”¨ç¯å¢ƒå˜é‡

ä¸è¦åœ¨ä»£ç ä¸­ç¡¬ç¼–ç æ•æ„Ÿä¿¡æ¯ï¼Œå§‹ç»ˆä½¿ç”¨Secretsã€‚

### 3. APIé…ç½®å®‰å…¨

- åœ¨Streamlit Cloudçš„Secretsä¸­é…ç½®APIå¯†é’¥
- å®šæœŸæ›´æ–°API Key
- ç›‘æ§APIè°ƒç”¨ä½¿ç”¨é‡

### 4. æ€§èƒ½ä¼˜åŒ–

- v3.1å·²ä½¿ç”¨ `@st.cache_resource` ç¼“å­˜æ•°æ®
- æ•°æ®åº“ä½¿ç”¨ä¸´æ—¶æ–‡ä»¶,è‡ªåŠ¨ç®¡ç†
- åˆç†è®¾ç½®æœç´¢å‚æ•°,é¿å…è¿‡å¤§æŸ¥è¯¢
- äº‘ç«¯é›¶å­˜å‚¨å ç”¨,æ— æ€§èƒ½è´Ÿæ‹…

---

## ğŸ“Š åº”ç”¨URL

éƒ¨ç½²æˆåŠŸåï¼Œæ‚¨çš„åº”ç”¨å°†åœ¨ä»¥ä¸‹URLå¯è®¿é—®ï¼š

**ä¸»è¦åœ°å€**ï¼š
```
https://[your-app-name].streamlit.app
```

**å¤‡ç”¨åœ°å€**ï¼š
```
https://share.streamlit.io/telagod/bmal1-pubmed-search/main/streamlit_app.py
```

---

## ğŸ”’ å®‰å…¨å»ºè®®

1. **ä¸è¦å…¬å¼€åˆ†äº«Secrets**
   - Secretsä»…åœ¨Streamlit Cloudåå°é…ç½®
   - ä¸è¦æäº¤åˆ°Gitä»“åº“

2. **å®šæœŸæ›´æ–°API Key**
   - å®šæœŸåœ¨NCBIæ›´æ–°APIå¯†é’¥
   - åœ¨Streamlit CloudåŒæ­¥æ›´æ–°Secrets

3. **ç›‘æ§ä½¿ç”¨æƒ…å†µ**
   - æ£€æŸ¥åº”ç”¨è®¿é—®æ—¥å¿—
   - æ³¨æ„å¼‚å¸¸çš„APIè°ƒç”¨

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### Streamlit Cloudæ–‡æ¡£
- https://docs.streamlit.io/streamlit-community-cloud

### PubMed APIæ–‡æ¡£
- https://www.ncbi.nlm.nih.gov/books/NBK25501/

### GitHubä»“åº“
- https://github.com/telagod/bmal1-pubmed-search

---

## âœ… v3.1 éƒ¨ç½²æ£€æŸ¥æ¸…å•

éƒ¨ç½²å‰è¯·ç¡®è®¤ï¼š

- [ ] ä»£ç å·²æ¨é€åˆ°GitHub
- [ ] requirements.txtåŒ…å«æ‰€æœ‰ä¾èµ–
- [ ] .gitignoreå·²é…ç½®ï¼ˆæ’é™¤.envå’Œæ•æ„Ÿæ–‡ä»¶ï¼‰
- [ ] è·å–äº†æœ‰æ•ˆçš„PubMed Emailå’ŒAPI Key
- [ ] åœ¨Streamlit Cloudé…ç½®äº†Secrets
- [ ] é€‰æ‹©äº†æ­£ç¡®çš„ä»“åº“å’Œåˆ†æ”¯
- [ ] ä¸»æ–‡ä»¶è·¯å¾„è®¾ç½®ä¸º `streamlit_app.py`

éƒ¨ç½²åè¯·éªŒè¯ï¼š

- [ ] åº”ç”¨æˆåŠŸå¯åŠ¨,æ˜¾ç¤ºv3.1ç‰ˆæœ¬
- [ ] é¦–é¡µæ˜¯"ğŸ’¾ æ•°æ®ç®¡ç†"
- [ ] æ·±è‰²æ¨¡å¼æ­£å¸¸æ˜¾ç¤º
- [ ] è®¾ç½®é¡µé¢å¯ä»¥æ­£å¸¸è®¿é—®
- [ ] APIé…ç½®æœ‰æ•ˆï¼ˆæ˜¾ç¤º"å·²é…ç½®"ï¼‰
- [ ] å¯ä»¥æ‰§è¡Œæœç´¢
- [ ] æ•°æ®åº“ä¸Šä¼ /ä¸‹è½½åŠŸèƒ½æ­£å¸¸
- [ ] æœç´¢åæç¤ºä¸‹è½½æ•°æ®åº“

### v3.1 æ–°åŠŸèƒ½éªŒè¯

- [ ] "ğŸ’¾ æ•°æ®ç®¡ç†"é¡µé¢æ­£å¸¸æ˜¾ç¤º
- [ ] å¯ä»¥ä¸Šä¼ .dbæ–‡ä»¶
- [ ] æ•°æ®åº“ä¿¡æ¯æ­£ç¡®æ˜¾ç¤º
- [ ] å¯ä»¥ä¸‹è½½æ•°æ®åº“æ–‡ä»¶
- [ ] æ¸…ç©ºæ•°æ®åº“éœ€è¦äºŒæ¬¡ç¡®è®¤
- [ ] æ·±è‰²æ¨¡å¼é¢œè‰²åè°ƒ

---

**ç¥éƒ¨ç½²é¡ºåˆ©å–µï½** à¸…'Ï‰'à¸…

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹åº”ç”¨æ—¥å¿—æˆ–æäº¤Issueåˆ°GitHubä»“åº“ã€‚
